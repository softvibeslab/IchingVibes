{"dependencies":[{"name":"expo-sensors","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":67},"end":{"line":4,"column":56,"index":123}}],"key":"BFOmcY3heoZY/RSSPg5xbOpveWQ=","exportNames":["*"],"imports":1}},{"name":"expo-haptics","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":124},"end":{"line":5,"column":40,"index":164}}],"key":"XxdHVlyuI491+26LeQ/AtfIvhac=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopNamespace(e) {\n    if (e && e.__esModule) return e;\n    var n = {};\n    if (e) Object.keys(e).forEach(function (k) {\n      var d = Object.getOwnPropertyDescriptor(e, k);\n      Object.defineProperty(n, k, d.get ? d : {\n        enumerable: true,\n        get: function () {\n          return e[k];\n        }\n      });\n    });\n    n.default = e;\n    return n;\n  }\n  Object.defineProperty(exports, \"SensorManager\", {\n    enumerable: true,\n    get: function () {\n      return SensorManager;\n    }\n  });\n  Object.defineProperty(exports, \"sensorManager\", {\n    enumerable: true,\n    get: function () {\n      return sensorManager;\n    }\n  });\n  var _expoSensors = require(_dependencyMap[0], \"expo-sensors\");\n  var _expoHaptics = require(_dependencyMap[1], \"expo-haptics\");\n  var Haptics = _interopNamespace(_expoHaptics);\n  /**\n   * Gestor de sensores del dispositivo para física realista\n   */\n\n  class SensorManager {\n    accelerometerSubscription = null;\n    gyroscopeSubscription = null;\n    lastAcceleration = {\n      x: 0,\n      y: 0,\n      z: 0\n    };\n    lastGyroscope = {\n      x: 0,\n      y: 0,\n      z: 0\n    };\n    shakeThreshold = 1.5;\n    onShakeCallback = null;\n\n    /**\n     * Iniciar monitoreo de sensores\n     */\n    async start() {\n      // Configurar actualización rápida\n      _expoSensors.Accelerometer.setUpdateInterval(16); // ~60fps\n      _expoSensors.Gyroscope.setUpdateInterval(16);\n\n      // Suscribirse al acelerómetro\n      this.accelerometerSubscription = _expoSensors.Accelerometer.addListener(data => {\n        this.lastAcceleration = data;\n        this.detectShake(data);\n      });\n\n      // Suscribirse al giroscopio\n      this.gyroscopeSubscription = _expoSensors.Gyroscope.addListener(data => {\n        this.lastGyroscope = data;\n      });\n    }\n\n    /**\n     * Detener monitoreo de sensores\n     */\n    stop() {\n      if (this.accelerometerSubscription) {\n        this.accelerometerSubscription.remove();\n        this.accelerometerSubscription = null;\n      }\n      if (this.gyroscopeSubscription) {\n        this.gyroscopeSubscription.remove();\n        this.gyroscopeSubscription = null;\n      }\n    }\n\n    /**\n     * Detectar sacudida del dispositivo\n     */\n    detectShake(data) {\n      const acceleration = Math.sqrt(data.x * data.x + data.y * data.y + data.z * data.z);\n      if (acceleration > this.shakeThreshold) {\n        if (this.onShakeCallback) {\n          this.onShakeCallback();\n          // Feedback háptico\n          Haptics.impactAsync(Haptics.ImpactFeedbackStyle.Heavy);\n        }\n      }\n    }\n\n    /**\n     * Registrar callback para detectar sacudida\n     */\n    onShake(callback) {\n      this.onShakeCallback = callback;\n    }\n\n    /**\n     * Obtener entropía del sensor (para aleatoriedad \"verdadera\")\n     */\n    getEntropy() {\n      const {\n        x,\n        y,\n        z\n      } = this.lastAcceleration;\n      // Usar decimales de la aceleración como fuente de entropía\n      const entropy = (Math.abs(x) + Math.abs(y) + Math.abs(z)) % 1;\n      return entropy;\n    }\n\n    /**\n     * Obtener vector de gravedad actual\n     */\n    getGravityVector() {\n      return this.lastAcceleration;\n    }\n\n    /**\n     * Obtener rotación actual\n     */\n    getRotation() {\n      return this.lastGyroscope;\n    }\n  }\n  const sensorManager = new SensorManager();\n});","lineCount":141,"map":[[22,2,13,0,"Object"],[22,8,13,0],[22,9,13,0,"defineProperty"],[22,23,13,0],[22,24,13,0,"exports"],[22,31,13,0],[23,4,13,0,"enumerable"],[23,14,13,0],[24,4,13,0,"get"],[24,7,13,0],[24,18,13,0,"get"],[24,19,13,0],[25,6,13,0],[25,13,13,0,"SensorManager"],[25,26,13,0],[26,4,13,0],[27,2,13,0],[28,2,104,0,"Object"],[28,8,104,0],[28,9,104,0,"defineProperty"],[28,23,104,0],[28,24,104,0,"exports"],[28,31,104,0],[29,4,104,0,"enumerable"],[29,14,104,0],[30,4,104,0,"get"],[30,7,104,0],[30,18,104,0,"get"],[30,19,104,0],[31,6,104,0],[31,13,104,0,"sensorManager"],[31,26,104,0],[32,4,104,0],[33,2,104,0],[34,2,4,0],[34,6,4,0,"_expoSensors"],[34,18,4,0],[34,21,4,0,"require"],[34,28,4,0],[34,29,4,0,"_dependencyMap"],[34,43,4,0],[35,2,5,0],[35,6,5,0,"_expoHaptics"],[35,18,5,0],[35,21,5,0,"require"],[35,28,5,0],[35,29,5,0,"_dependencyMap"],[35,43,5,0],[36,2,5,0],[36,6,5,0,"Haptics"],[36,13,5,0],[36,16,5,0,"_interopNamespace"],[36,33,5,0],[36,34,5,0,"_expoHaptics"],[36,46,5,0],[37,2,1,0],[38,0,2,0],[39,0,3,0],[41,2,13,7],[41,8,13,13,"SensorManager"],[41,21,13,26],[41,22,13,27],[42,4,14,10,"accelerometerSubscription"],[42,29,14,35],[42,32,14,43],[42,36,14,47],[43,4,15,10,"gyroscopeSubscription"],[43,25,15,31],[43,28,15,39],[43,32,15,43],[44,4,16,10,"lastAcceleration"],[44,20,16,26],[44,23,16,41],[45,6,16,43,"x"],[45,7,16,44],[45,9,16,46],[45,10,16,47],[46,6,16,49,"y"],[46,7,16,50],[46,9,16,52],[46,10,16,53],[47,6,16,55,"z"],[47,7,16,56],[47,9,16,58],[48,4,16,60],[48,5,16,61],[49,4,17,10,"lastGyroscope"],[49,17,17,23],[49,20,17,38],[50,6,17,40,"x"],[50,7,17,41],[50,9,17,43],[50,10,17,44],[51,6,17,46,"y"],[51,7,17,47],[51,9,17,49],[51,10,17,50],[52,6,17,52,"z"],[52,7,17,53],[52,9,17,55],[53,4,17,57],[53,5,17,58],[54,4,18,10,"shakeThreshold"],[54,18,18,24],[54,21,18,27],[54,24,18,30],[55,4,19,10,"onShakeCallback"],[55,19,19,25],[55,22,19,49],[55,26,19,53],[57,4,21,2],[58,0,22,0],[59,0,23,0],[60,4,24,2],[60,10,24,8,"start"],[60,15,24,13,"start"],[60,16,24,13],[60,18,24,16],[61,6,25,4],[62,6,26,4,"Accelerometer"],[62,18,26,17],[62,19,26,17,"Accelerometer"],[62,32,26,17],[62,33,26,18,"setUpdateInterval"],[62,50,26,35],[62,51,26,36],[62,53,26,38],[62,54,26,39],[62,55,26,40],[62,56,26,41],[63,6,27,4,"Gyroscope"],[63,18,27,13],[63,19,27,13,"Gyroscope"],[63,28,27,13],[63,29,27,14,"setUpdateInterval"],[63,46,27,31],[63,47,27,32],[63,49,27,34],[63,50,27,35],[65,6,29,4],[66,6,30,4],[66,10,30,8],[66,11,30,9,"accelerometerSubscription"],[66,36,30,34],[66,39,30,37,"Accelerometer"],[66,51,30,50],[66,52,30,50,"Accelerometer"],[66,65,30,50],[66,66,30,51,"addListener"],[66,77,30,62],[66,78,30,64,"data"],[66,82,30,68],[66,86,30,73],[67,8,31,6],[67,12,31,10],[67,13,31,11,"lastAcceleration"],[67,29,31,27],[67,32,31,30,"data"],[67,36,31,34],[68,8,32,6],[68,12,32,10],[68,13,32,11,"detectShake"],[68,24,32,22],[68,25,32,23,"data"],[68,29,32,27],[68,30,32,28],[69,6,33,4],[69,7,33,5],[69,8,33,6],[71,6,35,4],[72,6,36,4],[72,10,36,8],[72,11,36,9,"gyroscopeSubscription"],[72,32,36,30],[72,35,36,33,"Gyroscope"],[72,47,36,42],[72,48,36,42,"Gyroscope"],[72,57,36,42],[72,58,36,43,"addListener"],[72,69,36,54],[72,70,36,56,"data"],[72,74,36,60],[72,78,36,65],[73,8,37,6],[73,12,37,10],[73,13,37,11,"lastGyroscope"],[73,26,37,24],[73,29,37,27,"data"],[73,33,37,31],[74,6,38,4],[74,7,38,5],[74,8,38,6],[75,4,39,2],[77,4,41,2],[78,0,42,0],[79,0,43,0],[80,4,44,2,"stop"],[80,8,44,6,"stop"],[80,9,44,6],[80,11,44,9],[81,6,45,4],[81,10,45,8],[81,14,45,12],[81,15,45,13,"accelerometerSubscription"],[81,40,45,38],[81,42,45,40],[82,8,46,6],[82,12,46,10],[82,13,46,11,"accelerometerSubscription"],[82,38,46,36],[82,39,46,37,"remove"],[82,45,46,43],[82,46,46,44],[82,47,46,45],[83,8,47,6],[83,12,47,10],[83,13,47,11,"accelerometerSubscription"],[83,38,47,36],[83,41,47,39],[83,45,47,43],[84,6,48,4],[85,6,49,4],[85,10,49,8],[85,14,49,12],[85,15,49,13,"gyroscopeSubscription"],[85,36,49,34],[85,38,49,36],[86,8,50,6],[86,12,50,10],[86,13,50,11,"gyroscopeSubscription"],[86,34,50,32],[86,35,50,33,"remove"],[86,41,50,39],[86,42,50,40],[86,43,50,41],[87,8,51,6],[87,12,51,10],[87,13,51,11,"gyroscopeSubscription"],[87,34,51,32],[87,37,51,35],[87,41,51,39],[88,6,52,4],[89,4,53,2],[91,4,55,2],[92,0,56,0],[93,0,57,0],[94,4,58,10,"detectShake"],[94,15,58,21,"detectShake"],[94,16,58,22,"data"],[94,20,58,38],[94,22,58,40],[95,6,59,4],[95,12,59,10,"acceleration"],[95,24,59,22],[95,27,59,25,"Math"],[95,31,59,29],[95,32,59,30,"sqrt"],[95,36,59,34],[95,37,60,6,"data"],[95,41,60,10],[95,42,60,11,"x"],[95,43,60,12],[95,46,60,15,"data"],[95,50,60,19],[95,51,60,20,"x"],[95,52,60,21],[95,55,60,24,"data"],[95,59,60,28],[95,60,60,29,"y"],[95,61,60,30],[95,64,60,33,"data"],[95,68,60,37],[95,69,60,38,"y"],[95,70,60,39],[95,73,60,42,"data"],[95,77,60,46],[95,78,60,47,"z"],[95,79,60,48],[95,82,60,51,"data"],[95,86,60,55],[95,87,60,56,"z"],[95,88,61,4],[95,89,61,5],[96,6,63,4],[96,10,63,8,"acceleration"],[96,22,63,20],[96,25,63,23],[96,29,63,27],[96,30,63,28,"shakeThreshold"],[96,44,63,42],[96,46,63,44],[97,8,64,6],[97,12,64,10],[97,16,64,14],[97,17,64,15,"onShakeCallback"],[97,32,64,30],[97,34,64,32],[98,10,65,8],[98,14,65,12],[98,15,65,13,"onShakeCallback"],[98,30,65,28],[98,31,65,29],[98,32,65,30],[99,10,66,8],[100,10,67,8,"Haptics"],[100,17,67,15],[100,18,67,16,"impactAsync"],[100,29,67,27],[100,30,67,28,"Haptics"],[100,37,67,35],[100,38,67,36,"ImpactFeedbackStyle"],[100,57,67,55],[100,58,67,56,"Heavy"],[100,63,67,61],[100,64,67,62],[101,8,68,6],[102,6,69,4],[103,4,70,2],[105,4,72,2],[106,0,73,0],[107,0,74,0],[108,4,75,2,"onShake"],[108,11,75,9,"onShake"],[108,12,75,10,"callback"],[108,20,75,30],[108,22,75,32],[109,6,76,4],[109,10,76,8],[109,11,76,9,"onShakeCallback"],[109,26,76,24],[109,29,76,27,"callback"],[109,37,76,35],[110,4,77,2],[112,4,79,2],[113,0,80,0],[114,0,81,0],[115,4,82,2,"getEntropy"],[115,14,82,12,"getEntropy"],[115,15,82,12],[115,17,82,23],[116,6,83,4],[116,12,83,10],[117,8,83,12,"x"],[117,9,83,13],[118,8,83,15,"y"],[118,9,83,16],[119,8,83,18,"z"],[120,6,83,20],[120,7,83,21],[120,10,83,24],[120,14,83,28],[120,15,83,29,"lastAcceleration"],[120,31,83,45],[121,6,84,4],[122,6,85,4],[122,12,85,10,"entropy"],[122,19,85,17],[122,22,85,20],[122,23,85,21,"Math"],[122,27,85,25],[122,28,85,26,"abs"],[122,31,85,29],[122,32,85,30,"x"],[122,33,85,31],[122,34,85,32],[122,37,85,35,"Math"],[122,41,85,39],[122,42,85,40,"abs"],[122,45,85,43],[122,46,85,44,"y"],[122,47,85,45],[122,48,85,46],[122,51,85,49,"Math"],[122,55,85,53],[122,56,85,54,"abs"],[122,59,85,57],[122,60,85,58,"z"],[122,61,85,59],[122,62,85,60],[122,66,85,64],[122,67,85,65],[123,6,86,4],[123,13,86,11,"entropy"],[123,20,86,18],[124,4,87,2],[126,4,89,2],[127,0,90,0],[128,0,91,0],[129,4,92,2,"getGravityVector"],[129,20,92,18,"getGravityVector"],[129,21,92,18],[129,23,92,33],[130,6,93,4],[130,13,93,11],[130,17,93,15],[130,18,93,16,"lastAcceleration"],[130,34,93,32],[131,4,94,2],[133,4,96,2],[134,0,97,0],[135,0,98,0],[136,4,99,2,"getRotation"],[136,15,99,13,"getRotation"],[136,16,99,13],[136,18,99,28],[137,6,100,4],[137,13,100,11],[137,17,100,15],[137,18,100,16,"lastGyroscope"],[137,31,100,29],[138,4,101,2],[139,2,102,0],[140,2,104,7],[140,8,104,13,"sensorManager"],[140,21,104,26],[140,24,104,29],[140,28,104,33,"SensorManager"],[140,41,104,46],[140,42,104,47],[140,43,104,48],[141,0,104,49],[141,3]],"functionMap":{"names":["<global>","SensorManager","SensorManager#start","Accelerometer.addListener$argument_0","Gyroscope.addListener$argument_0","SensorManager#stop","SensorManager#detectShake","SensorManager#onShake","SensorManager#getEntropy","SensorManager#getGravityVector","SensorManager#getRotation"],"mappings":"AAA;OCY;ECW;+DCM;KDG;uDEG;KFE;GDC;EIK;GJS;EKK;GLY;EMK;GNE;EOK;GPK;EQK;GRE;ESK;GTE;CDC"},"hasCjsExports":false},"type":"js/module"}]}